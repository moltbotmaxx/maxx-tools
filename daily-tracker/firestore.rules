rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    
    // Safety rules for your Content Scheduler
    match /daily-tracker-data/{document} {
      // For now, allowing read/write so the app functions.
      // TO SECURE: You should enable Firebase Authentication and use:
      // allow read, write: if request.auth != null && request.auth.uid == 'YOUR_USER_ID';
      
      allow read, write: if true;
      
      // Basic validation to prevent corrupting the document structure
      allow update: if request.resource.data.appData is map 
                   && request.resource.data.lastUpdated is string;
    }

    // Deny access to all other collections by default
    match /{document=**} {
      allow read, write: if false;
    }
  }
}
