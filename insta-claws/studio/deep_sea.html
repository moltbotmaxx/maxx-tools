<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>MAXX_STUDIO_v12_DEEP_SEA</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;700&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            background: #000;
            color: #fff;
            display: flex;
            height: 100vh;
            overflow: hidden;
            font-family: 'Space Grotesk', sans-serif;
        }

        aside {
            width: 320px;
            background: #050505;
            border-right: 1px solid #111;
            padding: 30px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .label {
            font-size: 10px;
            color: #444;
            font-weight: 800;
            letter-spacing: 2px;
        }

        input {
            background: #000;
            border: 1px solid #111;
            color: #eee;
            padding: 10px;
            font-family: inherit;
            font-size: 12px;
            outline: none;
        }

        button {
            background: #fff;
            color: #000;
            border: none;
            padding: 15px;
            font-weight: 800;
            cursor: pointer;
            margin-top: auto;
            transition: 0.2s;
        }

        button:hover {
            background: red;
            color: #fff;
        }

        main {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #020202;
        }
    </style>
</head>

<body>
    <aside>
        <div class="label">M_ENGINE // DEEP_SEA_CAM</div>
        <div style="display:flex; flex-direction:column; gap:5px;">
            <label style="font-size:9px; color:#333;">IMAGE_URL</label>
            <input type="text" id="imgUrl" value="https://images.unsplash.com/photo-1551244072-5d12893278ab?q=80&w=1080"
                oninput="updateImage()">
            <label style="font-size:9px; color:#333;">CAM_ID</label>
            <input type="text" id="camId" value="CAM_04A" oninput="redraw()">
        </div>
        <button onclick="saveImage()">Capture Frame</button>
    </aside>
    <main>
        <div id="canvas-container"></div>
    </main>
    <script>
        let W = 1080; let H = 1440;
        let img;
        function setup() { createCanvas(W, H).parent('canvas-container'); pixelDensity(1); handleResize(); window.addEventListener('resize', handleResize); updateImage(); }
        function handleResize() {
            let scale = Math.min((document.querySelector('main').clientWidth - 40) / W, (document.querySelector('main').clientHeight - 40) / H);
            let c = document.querySelector('canvas');
            c.style.width = (W * scale) + 'px'; c.style.height = (H * scale) + 'px';
        }
        function updateImage() {
            let url = document.getElementById('imgUrl').value;
            img = loadImage(url, () => { 
                console.log("IMAGE_LOADED_SUCCESS");
                draw(); 
            }, () => {
                console.log("IMAGE_LOAD_ERROR");
            });
        }
        function draw() {
            background(5);

            // IMAGE RENDER
            if (img) {
                // Cover behavior with slight zoom for "cinematic" feel
                let imgRatio = img.width / img.height;
                let canvasRatio = W / H;
                let nw, nh;
                if (imgRatio > canvasRatio) { nh = H; nw = imgRatio * H; }
                else { nw = W; nh = W / imgRatio; }
                image(img, (W - nw) / 2, (H - nh) / 2, nw, nh);
            }

            // VIGNETTE OVERLAY
            noFill(); stroke(0); strokeWeight(100);
            // rect(0,0,W,H); // Simple border if needed

            // VIEWFINDER OVERLAY
            stroke(255, 255, 255, 100); strokeWeight(2); noFill();
            let m = 60;
            // Bracket corners
            line(m, m, m + 40, m); line(m, m, m, m + 40);
            line(W - m, m, W - m - 40, m); line(W - m, m, W - m, m + 40);
            line(m, H - m, m + 40, H - m); line(m, H - m, m, H - m - 40);
            line(W - m, H - m, W - m - 40, H - m); line(W - m, H - m, W - m, H - m - 40);

            // CENTER CROSSHAIR
            stroke(255, 0, 0, 150); strokeWeight(1);
            line(W / 2 - 10, H / 2, W / 2 + 10, H / 2);
            line(W / 2, H / 2 - 10, W / 2, H / 2 + 10);

            // HUD DATA
            noStroke(); fill(255, 255, 255, 200);
            textFont('monospace'); textSize(14); textAlign(LEFT, TOP);
            text("REC: " + document.getElementById('camId').value, m, m + 50);
            text("ISO: 800", m, m + 70);
            text("DEPTH: -980m", m, m + 90);

            // RECORDING DOT
            fill(255, 0, 0); ellipse(m + 120, m + 56, 10, 10);

            // BOTTOM DATA BAR
            fill(0); rect(0, H - 100, W, 100);
            stroke(255, 0, 0); strokeWeight(2); line(0, H - 100, W, H - 100);

            fill(255); noStroke(); textSize(24); textAlign(LEFT, CENTER);
            text("M_ENGINE // VISUAL_ARCHIVE", 40, H - 50);

            textAlign(RIGHT, CENTER); fill(100);
            text("NO. 8492-B", W - 40, H - 50);
        }
        function saveImage() {
            let out = get(0, 0, W, H);
            out.save('DEEP_SEA_' + Date.now(), 'png');
        }
    </script>
</body>

</html>